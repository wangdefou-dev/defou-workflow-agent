# Defou Workflow Agent

è¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½åŒ–çš„å†…å®¹åˆ›ä½œå·¥ä½œæµä»£ç†ï¼Œç»“åˆäº† Defou æ–¹æ³•è®ºå’Œ AI èƒ½åŠ›ã€‚å®ƒæ—¨åœ¨å¸®åŠ©å†…å®¹åˆ›ä½œè€…è‡ªåŠ¨åŒ–åœ°å®Œæˆä»"çµæ„Ÿè·å–"åˆ°"å†…å®¹é‡å¡‘"å†åˆ°"çˆ†æ¬¾éªŒè¯"çš„å…¨è¿‡ç¨‹ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

è¯¥é¡¹ç›®åŒ…å«å››ä¸ªä¸»è¦çš„åŠŸèƒ½æ¨¡å—ï¼š

### 1. ğŸ¤– è‡ªåŠ¨åŒ–å†…å®¹ç”Ÿæˆä»£ç† (Content Agent)
å…¨è‡ªåŠ¨çš„æ–‡ä»¶ç›‘å¬ä¸å¤„ç†ç³»ç»Ÿã€‚ä½ åªéœ€è¦æŠŠè‰ç¨¿æ‰”è¿›æ–‡ä»¶å¤¹ï¼Œå‰©ä¸‹çš„äº¤ç»™ AIã€‚
- **ğŸ‘€ å®æ—¶ç›‘å¬**ï¼šç›‘æ§ `inputs/` ç›®å½•ï¼Œæ£€æµ‹åˆ° `.md` æˆ– `.txt` æ–‡ä»¶å³åˆ»å“åº”ã€‚
- **ğŸ§  ä¸‰é‡è§†è§’é‡å¡‘**ï¼š
  - **ğŸ”¥ ç‰ˆæœ¬ A (Stanley Style)**ï¼šè¿½æ±‚æè‡´çš„ç‚¹å‡»ç‡å’Œä¼ æ’­åº¦ï¼Œæƒ…ç»ªé¥±æ»¡ï¼Œé‡‘å¥é¢‘å‡ºã€‚
  - **ğŸ§  ç‰ˆæœ¬ B (Defou Style)**ï¼šä¾§é‡åº•å±‚é€»è¾‘æ‹†è§£å’Œæ·±åº¦è®¤çŸ¥ï¼Œæä¾›é•¿æœŸä»·å€¼ã€‚
  - **ğŸŒŸ ç‰ˆæœ¬ C (Combo Style)**ï¼š**[NEW]** Defou x Stanley ç»ˆæèåˆç‰ˆï¼Œç»“åˆäº†ä¼ æ’­èŠ‚å¥ä¸æ·±åº¦å†…æ ¸ã€‚
- **ğŸ“Š æ™ºèƒ½è¯„ä¼°**ï¼šè‡ªåŠ¨è¿›è¡Œæ½œåŠ›æ‰“åˆ†ï¼ˆå¥½å¥‡å¿ƒã€å…±é¸£åº¦ã€æ¸…æ™°åº¦ã€ä¼ æ’­å€¼ï¼‰ã€‚
- **ğŸ“‚ è‡ªåŠ¨å½’æ¡£**ï¼šå¤„ç†å®Œæ¯•åè‡ªåŠ¨æ•´ç†æ–‡ä»¶ï¼Œä¿æŒå·¥ä½œåŒºæ•´æ´ã€‚

### 2. ğŸ”¥ çƒ­ç‚¹æŒ–æ˜æŠ€èƒ½ (TopHub Skill)
ä¸»åŠ¨å‡ºå‡»çš„æµé‡çŒæ‰‹ã€‚
- **ğŸ•·ï¸ å®æ—¶é‡‡é›†**ï¼šä» TopHub æŠ“å–å…¨ç½‘å®æ—¶çƒ­æ¦œæ•°æ®ã€‚
- **ğŸ’¡ æ™ºèƒ½åˆ†æ**ï¼šä½¿ç”¨ AI åˆ†ææ¯ä¸ªçƒ­ç‚¹çš„"æµé‡æ½œåŠ›"ï¼ˆäº‰è®®æ€§ã€ç´§è¿«æ„Ÿã€å¥½å¥‡å¿ƒï¼‰ã€‚
- **ğŸ¯ é€‰é¢˜å»ºè®®**ï¼šé’ˆå¯¹é«˜æ½œåŠ›è¯é¢˜ï¼Œè‡ªåŠ¨ç”Ÿæˆå…·ä½“çš„åˆ‡å…¥è§’åº¦å’Œæ ‡é¢˜å»ºè®®ã€‚

### 3. ğŸŒŸ è‡ªåŠ¨åŒ–çˆ†æ¬¾ç”ŸæˆæŠ€èƒ½ (TopHub x Stanley)
å…¨è‡ªåŠ¨åŒ–çš„"çƒ­ç‚¹å‘ç° -> çˆ†æ¬¾ç”Ÿæˆ"æµæ°´çº¿ã€‚
- **ğŸ¤– å…¨è‡ªåŠ¨æµç¨‹**ï¼šè‡ªåŠ¨æŠ“å–çƒ­æ¦œ -> æ™ºèƒ½ç­›é€‰æœ€ä½³é€‰é¢˜ -> è‡ªåŠ¨åº”ç”¨ Defou x Stanley é£æ ¼ç”Ÿæˆå†…å®¹ã€‚
- **ğŸ“ å¤šç‰ˆæœ¬è¾“å‡º**ï¼š
  - **Version A (Stanley)**ï¼šæè‡´çˆ†æ¬¾ã€æƒ…ç»ªå…±é¸£ã€‚
  - **Version B (Defou)**ï¼šæ·±åº¦è®¤çŸ¥ã€åº•å±‚é€»è¾‘ã€‚
  - **Version C (Combo)**ï¼šç»“åˆäºŒè€…ä¼˜ç‚¹çš„ç»ˆæç‰ˆæœ¬ã€‚
- **â±ï¸ é›¶äººå·¥å¹²é¢„**ï¼šä¸€é”®è¿è¡Œï¼Œç›´æ¥æ‹¿åˆ°å¯ä»¥ç›´æ¥å‘å¸ƒçš„æˆå“ç¨¿ä»¶ã€‚

### 4. ğŸ§ª çˆ†æ¬¾è¦ç´ éªŒè¯æŠ€èƒ½ (Viral Verification)
å¯¹å·²ç”Ÿæˆå†…å®¹çš„"ç»ˆæä½“æ£€"ã€‚
- **ğŸ©º æ·±åº¦è¯Šæ–­**ï¼šåŸºäº6å¤§çˆ†æ¬¾è¦ç´ ï¼ˆå¥½å¥‡å¿ƒã€æƒ…ç»ªã€ä»·å€¼ã€æ—¶æ•ˆã€èŠ‚å¥ã€æ–°é¢–æ€§ï¼‰è¿›è¡Œè¯„åˆ†ã€‚
- **ğŸ“ˆ å¢é•¿é»‘å®¢**ï¼šæ¨¡æ‹Ÿèµ„æ·±è¿è¥ä¸“å®¶ï¼Œç»™å‡ºå…·ä½“çš„ä¼˜åŒ–å»ºè®®ã€‚
- **ğŸš€ è‡ªåŠ¨é‡å†™**ï¼šä¸ä»…æŒ‡å‡ºé—®é¢˜ï¼Œè¿˜ä¼šè‡ªåŠ¨é‡å†™ä¸€ä¸ªä¼˜åŒ–åçš„é«˜æ½œåŠ›ç‰ˆæœ¬ã€‚

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 5. ğŸ‘‘ å…¨è‡ªåŠ¨æ€»æŒ‡æŒ¥ (Master Orchestrator)
ä¸€é”®å¯åŠ¨å…¨æµç¨‹çš„ç»ˆææŠ€èƒ½ã€‚
- **âš™ï¸ å…¨è‡ªåŠ¨è°ƒåº¦**ï¼šæŒ‰é¡ºåºè‡ªåŠ¨æ‰§è¡Œ "Combo (ç”Ÿæˆ)" -> "Verify (éªŒè¯)"ã€‚
- **ğŸ­ æµæ°´çº¿ä½œä¸š**ï¼šä»çƒ­ç‚¹æŠ“å–åˆ°æœ€ç»ˆæˆå“éªŒè¯ï¼Œä¸­é—´æ— éœ€ä»»ä½•äººå·¥å¹²é¢„ã€‚
- **âœ… ç»“æœå¯¼å‘**ï¼šç›´æ¥äº¤ä»˜ç»è¿‡åŒé‡ AI å¤„ç†ï¼ˆç”Ÿæˆ+éªŒè¯ï¼‰çš„é«˜è´¨é‡ç¨¿ä»¶ã€‚

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js (v16 æˆ–æ›´é«˜ç‰ˆæœ¬)
- Anthropic API Key (ç”¨äºé©±åŠ¨ Claude æ¨¡å‹)

### å®‰è£…ä¾èµ–

```bash
npm install
```

### é…ç½®ç¯å¢ƒ
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹ä¿¡æ¯ï¼š

```env
# Claude API Key (å¿…é¡»)
ANTHROPIC_API_KEY=sk-ant-api03-...

# API Base URL (å¯é€‰ï¼Œé»˜è®¤ä¸ºå®˜æ–¹æ¥å£)
ANTHROPIC_BASE_URL=https://api.anthropic.com/v1

# æµ‹è¯•æ¨¡å¼ (å¯é€‰ï¼Œè®¾ä¸º true æ—¶ä¸æ¶ˆè€— Tokenï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®)
MOCK_MODE=false
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### åœºæ™¯ä¸€ï¼šæˆ‘æœ‰è‰ç¨¿ï¼Œå¸®æˆ‘ä¼˜åŒ–

1. **å¯åŠ¨ä»£ç†æœåŠ¡**ï¼š
   ```bash
   npm start
   ```
   *ç»ˆç«¯æ˜¾ç¤º `ğŸ‘€ Watching for new files in: .../inputs` å³è¡¨ç¤ºå¯åŠ¨æˆåŠŸã€‚*

2. **æŠ•æ”¾ç´ æ**ï¼š
   å°†ä½ çš„åŸå§‹è‰ç¨¿ï¼ˆå¯ä»¥æ˜¯å‡Œä¹±çš„ç¬”è®°ã€æ–‡ç« å¤§çº²æˆ–å…¨æ–‡ï¼‰æ”¾å…¥ `inputs/` æ–‡ä»¶å¤¹ã€‚

3. **è·å–ç»“æœ**ï¼š
   - å¤„ç†å®Œæˆåï¼Œç”Ÿæˆçš„è¯¦ç»†åˆ†ææŠ¥å‘Šä¼šå‡ºç°åœ¨ `outputs/` æ–‡ä»¶å¤¹ä¸­ï¼ˆæ–‡ä»¶ååç¼€ä¸º `_report.md`ï¼‰ã€‚
   - åŸå§‹æ–‡ä»¶ä¼šè¢«è‡ªåŠ¨ç§»åŠ¨åˆ° `archive/` æ–‡ä»¶å¤¹å¤‡ä»½ã€‚

### åœºæ™¯äºŒï¼šæˆ‘æ²¡çµæ„Ÿï¼Œå¸®æˆ‘æ‰¾é€‰é¢˜

1. **è¿›å…¥é¡¹ç›®ç›®å½•**ï¼š
   åŠ¡å¿…ç¡®ä¿ä½ åœ¨ `defou-workflow-agent` ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼š
   ```bash
   cd defou-workflow-agent
   ```

2. **è¿è¡Œçƒ­ç‚¹æŒ–æ˜æŒ‡ä»¤**ï¼š
   ```bash
   npm run skill:tophub
   ```

3. **æŸ¥çœ‹åˆ†ææŠ¥å‘Š**ï¼š
   - ç³»ç»Ÿä¼šè‡ªåŠ¨æŠ“å–æœ€æ–°çƒ­æ¦œã€‚
   - å‡ ç§’é’Ÿåï¼Œåœ¨ `outputs/trends/` æ–‡ä»¶å¤¹ä¸‹æŸ¥çœ‹ç”Ÿæˆçš„ `tophub_analysis_xxxx.md` æŠ¥å‘Šã€‚

### åœºæ™¯ä¸‰ï¼šå…¨è‡ªåŠ¨çƒ­ç‚¹çˆ†æ¬¾ç”Ÿæˆ

1. **è¿›å…¥é¡¹ç›®ç›®å½•**ï¼š
   ```bash
   cd defou-workflow-agent
   ```

2. **è¿è¡Œå…¨è‡ªåŠ¨ç”ŸæˆæŒ‡ä»¤**ï¼š
   ```bash
   npm run skill:combo
   ```

3. **æŸ¥çœ‹ç”Ÿæˆç»“æœ**ï¼š
   - ç³»ç»Ÿä¼šè‡ªåŠ¨å®ŒæˆæŠ“å–ã€é€‰é¢˜ã€ç”Ÿæˆå…¨è¿‡ç¨‹ã€‚
   - ç»“æœä¿å­˜åœ¨ `outputs/defou-stanley-posts/` ç›®å½•ä¸‹ã€‚

### åœºæ™¯å››ï¼šéªŒè¯å¹¶ä¼˜åŒ–çˆ†æ¬¾æ–‡ç« 

1. **è¿›å…¥é¡¹ç›®ç›®å½•**ï¼š
   ```bash
   cd defou-workflow-agent
   ```

2. **è¿è¡ŒéªŒè¯æŒ‡ä»¤**ï¼š
   ```bash
   # éªŒè¯æœ€æ–°ç”Ÿæˆçš„æ–‡ç« 
   npm run skill:verify
   
   # æˆ–è€…éªŒè¯æŒ‡å®šæ–‡ä»¶
   npm run skill:verify -- outputs/defou-stanley-posts/ä½ çš„æ–‡ç« .md
   ```

3. **æŸ¥çœ‹ä¼˜åŒ–ç»“æœ**ï¼š
   - ç»“æœä¿å­˜åœ¨ `outputs/viral-verified-posts/` ç›®å½•ä¸‹ã€‚
   - åŒ…å«è¯„åˆ†å¡ã€æ”¹è¿›å»ºè®®ä»¥åŠæœ€ç»ˆä¼˜åŒ–åçš„ç‰ˆæœ¬ã€‚

### åœºæ™¯äº”ï¼šğŸ”— æ‰¹é‡å¤„ç†æ–‡ç« é“¾æ¥ (Link List Mode)

å¦‚æœä½ æœ‰ä¸€ä¸ªåŒ…å«å¤šç¯‡æ–‡ç« é“¾æ¥çš„ Markdown æ¸…å•ï¼ˆä¾‹å¦‚ `[æ ‡é¢˜](é“¾æ¥)` æ ¼å¼ï¼‰ã€‚

1. **å¯åŠ¨ç›‘å¬**ï¼š
   ```bash
   npm run skill:list
   ```
   *ç¨‹åºè¿›å…¥ç­‰å¾…çŠ¶æ€...*

2. **æŠ•æ”¾æ¸…å•**ï¼š
   å°†ä½ çš„æ¸…å•æ–‡ä»¶ï¼ˆå¦‚ `links.md`ï¼‰æ‹–å…¥ `defou-workflow-agent/local_inputs/`ã€‚

3. **è‡ªåŠ¨æ‰§è¡Œ**ï¼š
   ç³»ç»Ÿä¼šè‡ªåŠ¨æŠ“å–é“¾æ¥ -> ç”Ÿæˆåˆç¨¿ -> **è‡ªåŠ¨éªŒè¯ä¼˜åŒ–**ã€‚
   æœ€ç»ˆæˆå“ç›´æ¥å» `outputs/viral-verified-posts/` é¢†å–ã€‚

### åœºæ™¯å…­ï¼šğŸš€ ä¸€é”®æ‰˜ç®¡ (Master Mode)

æœ€æ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œå…¨è‡ªåŠ¨å®Œæˆæ‰€æœ‰å·¥ä½œã€‚

1. **è¿›å…¥é¡¹ç›®ç›®å½•**ï¼š
   ```bash
   cd defou-workflow-agent
   ```

2. **è¿è¡Œæ€»æŒ‡æŒ¥æŒ‡ä»¤**ï¼š
   ```bash
   npm run skill:master
   ```

3. **ç­‰å¾…æ”¶è´§**ï¼š
   - ç³»ç»Ÿå°†è‡ªåŠ¨ä¸²è”æ‰§è¡Œ `skill:combo` å’Œ `skill:verify`ã€‚
   - ä½ åªéœ€ç­‰å¾…å‡ åˆ†é’Ÿï¼Œç„¶åå» `outputs/viral-verified-posts/` ç›®å½•ä¸‹æ”¶å–æœ€ç»ˆæˆå“ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
defou-workflow-agent/
â”œâ”€â”€ inputs/             # [å…¥å£] è¿™é‡Œçš„æ–‡ç¨¿ä¼šè¢«è‡ªåŠ¨å¤„ç†
â”œâ”€â”€ outputs/            # [å‡ºå£]
â”‚   â”œâ”€â”€ articles/       # AI é‡å¡‘åçš„æ–‡ç« æŠ¥å‘Š
â”‚   â”œâ”€â”€ trends/         # çƒ­æ¦œåˆ†ææŠ¥å‘Š
â”‚   â”œâ”€â”€ defou-stanley-posts/ # è‡ªåŠ¨ç”Ÿæˆçš„çˆ†æ¬¾æ–‡ç« 
â”‚   â””â”€â”€ viral-verified-posts/ # ç»è¿‡éªŒè¯ä¼˜åŒ–çš„æœ€ç»ˆç¨¿ä»¶
â”œâ”€â”€ archive/            # [å½’æ¡£] å¤„ç†å®Œçš„æºæ–‡ä»¶ç§»å…¥æ­¤å¤„
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts        # æ ¸å¿ƒç›‘å¬ä»£ç†é€»è¾‘
â”‚   â”œâ”€â”€ master.ts       # [æ–°å¢] æ€»æŒ‡æŒ¥è°ƒåº¦è„šæœ¬
â”‚   â”œâ”€â”€ templates.ts    # Prompt æç¤ºè¯
â”‚   â””â”€â”€ config.ts       # ç¯å¢ƒé…ç½®
â”œâ”€â”€ skills/             # æŠ€èƒ½åº“
â”‚   â”œâ”€â”€ tophub-trends/              # çƒ­æ¦œæŠ“å–æŠ€èƒ½
â”‚   â”œâ”€â”€ tophub-defou-stanley-combo/ # è‡ªåŠ¨åˆ›ä½œç»„åˆæŠ€èƒ½
â”‚   â””â”€â”€ viral-verification/         # çˆ†æ¬¾éªŒè¯æŠ€èƒ½
â”‚       â”œâ”€â”€ SKILL.md                # éªŒè¯æ ‡å‡†ä¸ Prompt (å¯ä¿®æ”¹)
â”‚       â””â”€â”€ index.ts                # æ‰§è¡Œè„šæœ¬
â””â”€â”€ .env                # é…ç½®æ–‡ä»¶
```

## âš¡ï¸ TL;DR (æç®€ç‰ˆ)

å¤åˆ¶ä¸‹æ–¹å‘½ä»¤ï¼Œç›´æ¥å¼€å§‹å·¥ä½œï¼š

```bash
# 1. è¿›å…¥ç›®å½•
cd defou-workflow-agent

# 2. å®‰è£…ä¾èµ– (ä»…é¦–æ¬¡)
npm install

# --- å¸¸ç”¨æŒ‡ä»¤ ---

# [ğŸ”¥ æ¨è] æ¨¡å¼ E: ä¸€é”®å…¨è‡ªåŠ¨ (ç”Ÿæˆ + éªŒè¯)
npm run skill:master

# æ¨¡å¼ A: å¯åŠ¨è‡ªåŠ¨ç›‘å¬ (å¤„ç† inputs/ ä¸‹çš„è‰ç¨¿)
npm start

# æ¨¡å¼ B: æŠ“å–å…¨ç½‘çƒ­ç‚¹ (ç”Ÿæˆé€‰é¢˜å»ºè®®)
npm run skill:tophub

# æ¨¡å¼ C: å…¨è‡ªåŠ¨çˆ†æ¬¾ç”Ÿæˆ (æŠ“å–+é€‰é¢˜+ç”Ÿæˆ)
npm run skill:combo

# æ¨¡å¼ D: çˆ†æ¬¾éªŒè¯ä¸ä¼˜åŒ– (ä¸ºç”Ÿæˆçš„å†…å®¹åšæœ€åä½“æ£€)
npm run skill:verify

# æ¨¡å¼ E: æ‰¹é‡å¤„ç†æ–‡ç« é“¾æ¥ (å¯åŠ¨ç›‘å¬ -> æŠ•æ”¾æ¸…å• -> è‡ªåŠ¨ç”Ÿæˆ+éªŒè¯)
npm run skill:list
```
